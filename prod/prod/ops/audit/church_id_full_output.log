
ğŸ“‹ Processing 39 tables that need church_id...


ğŸ”§ Processing table: activity_feed
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed activity_feed

ğŸ”§ Processing table: admin_settings
   - Backfill via: created_by
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed admin_settings

ğŸ”§ Processing table: audit_logs
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed audit_logs

ğŸ”§ Processing table: bigbook_notes
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed bigbook_notes

ğŸ”§ Processing table: blog_categories
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed blog_categories

ğŸ”§ Processing table: blog_comments
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed blog_comments

ğŸ”§ Processing table: blog_posts
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed blog_posts

ğŸ”§ Processing table: calendar_settings
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed calendar_settings

ğŸ”§ Processing table: chat_conversations
   - Backfill via: created_by
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed chat_conversations

ğŸ”§ Processing table: chat_participants
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed chat_participants

ğŸ”§ Processing table: component_usage
   - Backfill via: user_id
   - Row count: 908
   â„¹ï¸  church_id column already exists
   âœ“ Backfilling church_id from user_id...
   âœ“ Updated 0 rows with church_id
   âš ï¸  component_usage: Only 0/908 rows have church_id
   âœ… Successfully processed component_usage

ğŸ”§ Processing table: error_logs
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed error_logs

ğŸ”§ Processing table: kanban_boards
   - Backfill via: created_by
   - Row count: 1
   â„¹ï¸  church_id column already exists
   âœ“ Backfilling church_id from created_by...
   âœ“ Updated 0 rows with church_id
   âš ï¸  kanban_boards: Only 0/1 rows have church_id
   âœ… Successfully processed kanban_boards

ğŸ”§ Processing table: kanban_board_members
   - Backfill via: user_id
   - Row count: 1
   â„¹ï¸  church_id column already exists
   âœ“ Backfilling church_id from user_id...
   âœ“ Updated 0 rows with church_id
   âš ï¸  kanban_board_members: Only 0/1 rows have church_id
   âœ… Successfully processed kanban_board_members

ğŸ”§ Processing table: kanban_tasks
   - Backfill via: created_by
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ… Successfully processed kanban_tasks

ğŸ”§ Processing table: kanban_task_activity
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed kanban_task_activity

ğŸ”§ Processing table: kanban_task_comments
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed kanban_task_comments

ğŸ”§ Processing table: notes
   - Backfill via: created_by
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed notes

ğŸ”§ Processing table: notifications
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed notifications

ğŸ”§ Processing table: notification_history
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed notification_history

ğŸ”§ Processing table: notification_queue
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed notification_queue

ğŸ”§ Processing table: notification_subscriptions
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed notification_subscriptions

ğŸ”§ Processing table: omai_logs
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed omai_logs

ğŸ”§ Processing table: omb_templates
   - Backfill via: created_by
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed omb_templates

ğŸ”§ Processing table: password_resets
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed password_resets

ğŸ”§ Processing table: push_subscriptions
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed push_subscriptions

ğŸ”§ Processing table: questionnaire_responses
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed questionnaire_responses

ğŸ”§ Processing table: refresh_tokens
   - Backfill via: user_id
   - Row count: 3
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ“ Backfilling church_id from user_id...
   âœ“ Updated 0 rows with church_id
   âš ï¸  refresh_tokens: Only 0/3 rows have church_id
   âœ… Successfully processed refresh_tokens

ğŸ”§ Processing table: sessions
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âŒ Error processing sessions: Unknown column 'id' in 'sessions'

ğŸ”§ Processing table: social_media
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed social_media

ğŸ”§ Processing table: social_reactions
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed social_reactions

ğŸ”§ Processing table: task_activity_log
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed task_activity_log

ğŸ”§ Processing table: user_activity_logs
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed user_activity_logs

ğŸ”§ Processing table: user_component_summary
   - Backfill via: user_id
   - Row count: 61
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ“ Backfilling church_id from user_id...
   âœ“ Updated 0 rows with church_id
   âš ï¸  user_component_summary: Only 0/61 rows have church_id
   âœ… Successfully processed user_component_summary

ğŸ”§ Processing table: user_notification_preferences
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed user_notification_preferences

ğŸ”§ Processing table: user_profiles
   - Backfill via: user_id
   - Row count: 1
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ“ Backfilling church_id from user_id...
   âœ“ Updated 0 rows with church_id
   âš ï¸  user_profiles: Only 0/1 rows have church_id
   âœ… Successfully processed user_profiles

ğŸ”§ Processing table: user_sessions
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed user_sessions

ğŸ”§ Processing table: user_sessions_social
   - Backfill via: user_id
   - Row count: 0
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ… Successfully processed user_sessions_social

ğŸ”§ Processing table: user_social_settings
   - Backfill via: user_id
   - Row count: 1
   â„¹ï¸  church_id column already exists
   âš ï¸  Wrong data type: bigint, fixing...
   - Dropping incorrect church_id column
   âœ“ Adding church_id column...
   âœ“ Adding index...
   âœ“ Adding foreign key constraint...
   âœ“ Backfilling church_id from user_id...
   âœ“ Updated 0 rows with church_id
   âš ï¸  user_social_settings: Only 0/1 rows have church_id
   âœ… Successfully processed user_social_settings

============================================================
ğŸ“ˆ SUMMARY
============================================================
âœ… Successfully processed: 38 tables
âŒ Failed: 1 tables
âš ï¸  Warnings: 7

âŒ Failed tables:
   - sessions: Unknown column 'id' in 'sessions'

âš ï¸  Warnings:
   - component_usage: Only 0/908 rows have church_id
   - kanban_boards: Only 0/1 rows have church_id
   - kanban_board_members: Only 0/1 rows have church_id
   - refresh_tokens: Only 0/3 rows have church_id
   - user_component_summary: Only 0/61 rows have church_id
   - user_profiles: Only 0/1 rows have church_id
   - user_social_settings: Only 0/1 rows have church_id

ğŸ“„ Full results saved to: /var/www/orthodoxmetrics/prod/audit/church_id_application_results.json
