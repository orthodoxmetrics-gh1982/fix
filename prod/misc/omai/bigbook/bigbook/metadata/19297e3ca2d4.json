{
  "id": "19297e3ca2d4",
  "originalPath": "/var/www/orthodox-church-mgmt/orthodoxmetrics/prod/bigbook/metadata/2ad7f0aae805.json",
  "relativePath": "bigbook/metadata/2ad7f0aae805.json",
  "name": "2ad7f0aae805.json",
  "extension": ".json",
  "size": 14209,
  "modified": "2025-07-26T04:17:10.978Z",
  "created": "2025-07-26T04:17:10.978Z",
  "classification": {
    "type": "Configuration",
    "category": "Configuration",
    "confidence": 4
  },
  "metadata": {
    "fileStats": {
      "lines": 62,
      "characters": 13749,
      "words": 1036
    },
    "classification": {
      "type": "Configuration",
      "category": "Configuration",
      "confidence": 4
    },
    "dependencies": [
      {
        "type": "npm_package",
        "name": "path",
        "line": 49
      }
    ],
    "security": {
      "findings": [
        {
          "type": "sensitive_data",
          "pattern": "(?:password|pwd|pass)\\s*[:=]\\s*['\"]([^'\"]+)['\"]",
          "line": 49,
          "redacted": true
        },
        {
          "type": "sensitive_data",
          "pattern": "(?:password|pwd|pass)\\s*[:=]\\s*['\"]([^'\"]+)['\"]",
          "line": 49,
          "redacted": true
        }
      ],
      "hasSecurityIssues": true,
      "redactedContent": "{\n  \"id\": \"2ad7f0aae805\",\n  \"originalPath\": \"/var/www/orthodox-church-mgmt/orthodoxmetrics/prod/server/legacy/step6-demo.js\",\n  \"relativePath\": \"server/legacy/step6-demo.js\",\n  \"name\": \"step6-demo.js\",\n  \"extension\": \".js\",\n  \"size\": 12045,\n  \"modified\": \"2025-07-24T14:51:40.480Z\",\n  \"created\": \"2025-07-24T14:51:40.480Z\",\n  \"classification\": {\n    \"type\": \"Server Scripts\",\n    \"category\": \"Backend > Server\",\n    \"confidence\": 3\n  },\n  \"metadata\": {\n    \"fileStats\": {\n      \"lines\": 260,\n      \"characters\": 11585,\n      \"words\": 921\n    },\n    \"classification\": {\n      \"type\": \"Server Scripts\",\n      \"category\": \"Backend > Server\",\n      \"confidence\": 3\n    },\n    \"dependencies\": [\n      {\n        \"type\": \"npm_package\",\n        \"name\": \"path\",\n        \"line\": 5\n      }\n    ],\n    \"security\": {\n      \"findings\": [\n        {\n          \"type\": \"sensitive_data\",\n          \"pattern\": \"(?:password|pwd|pass)\\\\s*[:=]\\\\s*['\\\"]([^'\\\"]+)['\\\"]\",\n          \"line\": 25,\n          \"redacted\": true\n        },\n        {\n          \"type\": \"sensitive_data\",\n          \"pattern\": \"(?:password|pwd|pass)\\\\s*[:=]\\\\s*['\\\"]([^'\\\"]+)['\\\"]\",\n          \"line\": 38,\n          \"redacted\": true\n        }\n      ],\n      \"hasSecurityIssues\": true,\n      \"redactedContent\": \"// ğŸ“ step6-demo.js\\r\\n// Step 6: Logging and Monitoring - Comprehensive Demonstration\\r\\n\\r\\nconst MonitoringIntegration = require('./server/scrapers/monitoring/monitoring-integration');\\r\\nconst path = require('path');\\r\\n\\r\\nasync function demonstrateStep6() {\\r\\n    console.log('\\\\nğŸ¯ ==========================================');\\r\\n    console.log('ğŸ“Š STEP 6: LOGGING AND MONITORING DEMO');\\r\\n    console.log('ğŸ¯ ==========================================\\\\n');\\r\\n\\r\\n    console.log('ğŸ”§ System Configuration:');\\r\\n    console.log('â”œâ”€ ğŸ¤– AI-powered anomaly detection');\\r\\n    console.log('â”œâ”€ ğŸ“Š Real-time performance monitoring');\\r\\n    console.log('â”œâ”€ ğŸš¨ Intelligent alert system');\\r\\n    console.log('â”œâ”€ ğŸ“ˆ Comprehensive logging');\\r\\n    console.log('â”œâ”€ ğŸ“± Monitoring dashboard API');\\r\\n    console.log('â”œâ”€ âœ‰ï¸  Email & Slack notifications');\\r\\n    console.log('â””â”€ ğŸ” Predictive insights\\\\n');\\r\\n\\r\\n    // Database configuration\\r\\n    const dbConfig = {\\r\\n        host: 'localhost',\\r\\n        user: 'orthodoxapps',\\r\\n        password: '[REDACTED]',\\r\\n        database: 'orthodox_metrics',\\r\\n        port: 3306\\r\\n    };\\r\\n\\r\\n    // Alert configuration\\r\\n    const alertConfig = {\\r\\n        email: {\\r\\n            enabled: false, // Set to true with SMTP details for production\\r\\n            host: 'smtp.gmail.com',\\r\\n            port: 587,\\r\\n            secure: false,\\r\\n            user: 'your-email@gmail.com',\\r\\n            password: '[REDACTED]',\\r\\n            from: 'Orthodox Metrics System <noreply@orthodoxmetrics.com>',\\r\\n            recipients: ['admin@orthodoxmetrics.com']\\r\\n        },\\r\\n        slack: {\\r\\n            enabled: false, // Set to true with webhook URL for production\\r\\n            webhookUrl: 'https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK'\\r\\n        },\\r\\n        thresholds: {\\r\\n            criticalAlertCooldown: 30 * 60 * 1000, // 30 minutes\\r\\n            highAlertCooldown: 60 * 60 * 1000, // 1 hour\\r\\n            mediumAlertCooldown: 4 * 60 * 60 * 1000 // 4 hours\\r\\n        }\\r\\n    };\\r\\n\\r\\n    // Monitoring configuration\\r\\n    const monitoringConfig = {\\r\\n        thresholds: {\\r\\n            scraperFailureRate: 0.1, // 10%\\r\\n            dataQualityDrop: 0.2, // 20%\\r\\n            duplicateIncrease: 0.3, // 30%\\r\\n            validationFailureRate: 0.15, // 15%\\r\\n            syncDelayHours: 48 // 48 hours\\r\\n        }\\r\\n    };\\r\\n\\r\\n    try {\\r\\n        console.log('ğŸš€ Initializing AI Monitoring System...\\\\n');\\r\\n\\r\\n        // Initialize monitoring system\\r\\n        const monitoring = new MonitoringIntegration({\\r\\n            dbConfig,\\r\\n            alertConfig,\\r\\n            monitoringConfig\\r\\n        });\\r\\n\\r\\n        await monitoring.initialize();\\r\\n        console.log('âœ… Monitoring system initialized successfully!\\\\n');\\r\\n\\r\\n        // 1. Demonstrate AI Analysis\\r\\n        console.log('ğŸ”¬ 1. AI-POWERED ANOMALY DETECTION');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        const analysisResults = await monitoring.runManualAnalysis();\\r\\n        \\r\\n        console.log(`ğŸ“Š Analysis Results:`);\\r\\n        console.log(`â”œâ”€ Metrics Categories: ${Object.keys(analysisResults.metrics).length}`);\\r\\n        console.log(`â”œâ”€ Anomalies Detected: ${analysisResults.anomalies.length}`);\\r\\n        console.log(`â”œâ”€ Recommendations: ${analysisResults.recommendations.length}`);\\r\\n        console.log(`â””â”€ Analysis Time: ${analysisResults.timestamp}\\\\n`);\\r\\n\\r\\n        if (analysisResults.anomalies.length > 0) {\\r\\n            console.log('ğŸš¨ Detected Anomalies:');\\r\\n            analysisResults.anomalies.forEach((anomaly, index) => {\\r\\n                console.log(`  ${index + 1}. [${anomaly.severity.toUpperCase()}] ${anomaly.type}`);\\r\\n                console.log(`     â””â”€ ${anomaly.message}`);\\r\\n            });\\r\\n            console.log();\\r\\n        }\\r\\n\\r\\n        if (analysisResults.recommendations.length > 0) {\\r\\n            console.log('ğŸ’¡ AI Recommendations:');\\r\\n            analysisResults.recommendations.forEach((rec, index) => {\\r\\n                console.log(`  ${index + 1}. [${rec.priority.toUpperCase()}] ${rec.title}`);\\r\\n                console.log(`     â””â”€ ${rec.description}`);\\r\\n            });\\r\\n            console.log();\\r\\n        }\\r\\n\\r\\n        // 2. Demonstrate System Status\\r\\n        console.log('ğŸ“Š 2. SYSTEM STATUS MONITORING');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        const status = await monitoring.getSystemStatus();\\r\\n        console.log(`ğŸ¥ System Health: ${status.systemHealth}`);\\r\\n        console.log(`ğŸš¨ Active Alerts: ${status.activeAlerts}`);\\r\\n        console.log(`â±ï¸  System Uptime: ${Math.round(status.uptime / 60)} minutes`);\\r\\n        console.log(`ğŸ”§ Components Status:`);\\r\\n        \\r\\n        Object.entries(status.components || {}).forEach(([component, state]) => {\\r\\n            const icon = state === 'active' ? 'âœ…' : 'âŒ';\\r\\n            console.log(`   ${icon} ${component}: ${state}`);\\r\\n        });\\r\\n        console.log();\\r\\n\\r\\n        // 3. Demonstrate Continuous Monitoring\\r\\n        console.log('ğŸ”„ 3. CONTINUOUS MONITORING');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        console.log('ğŸ¯ Starting continuous monitoring (demo: 1-minute intervals)...');\\r\\n        const monitoringStatus = await monitoring.startMonitoring(1); // 1 minute for demo\\r\\n        \\r\\n        console.log(`âœ… Monitoring Status: ${monitoringStatus.status}`);\\r\\n        console.log(`â° Check Interval: ${monitoringStatus.interval} minutes`);\\r\\n        console.log(`ğŸš€ Started At: ${monitoringStatus.startTime}\\\\n`);\\r\\n\\r\\n        // Let monitoring run for a short demo period\\r\\n        console.log('â³ Monitoring system running... (demo will run for 30 seconds)');\\r\\n        await new Promise(resolve => setTimeout(resolve, 30000));\\r\\n\\r\\n        // 4. Demonstrate Health Check\\r\\n        console.log('ğŸ¥ 4. HEALTH CHECK API');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        const healthCheck = await monitoring.healthCheck();\\r\\n        console.log(`ğŸ©º System Healthy: ${healthCheck.healthy ? 'YES' : 'NO'}`);\\r\\n        console.log(`ğŸ“Š Health Status: ${healthCheck.status}`);\\r\\n        console.log(`ğŸš¨ Active Alerts: ${healthCheck.details.activeAlerts}`);\\r\\n        console.log(`â±ï¸  Uptime: ${Math.round(healthCheck.details.uptime / 60)} minutes\\\\n`);\\r\\n\\r\\n        // 5. Demonstrate Alert System (test mode)\\r\\n        console.log('ğŸš¨ 5. ALERT SYSTEM TEST');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        console.log('ğŸ§ª Testing alert system...');\\r\\n        await monitoring.testAlertSystem();\\r\\n        console.log('âœ… Alert system test completed!\\\\n');\\r\\n\\r\\n        // 6. Show Monitoring Dashboard Endpoints\\r\\n        console.log('ğŸ“ˆ 6. MONITORING DASHBOARD API');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        console.log('ğŸŒ Available API Endpoints:');\\r\\n        console.log('â”œâ”€ GET  /api/monitoring/health     - System health status');\\r\\n        console.log('â”œâ”€ GET  /api/monitoring/report     - Detailed monitoring report');\\r\\n        console.log('â”œâ”€ GET  /api/monitoring/alerts     - Active alerts');\\r\\n        console.log('â”œâ”€ GET  /api/monitoring/metrics    - Historical metrics');\\r\\n        console.log('â”œâ”€ GET  /api/monitoring/stats      - System statistics');\\r\\n        console.log('â”œâ”€ POST /api/monitoring/analyze    - Trigger manual analysis');\\r\\n        console.log('â”œâ”€ PUT  /api/monitoring/alerts/:id/acknowledge');\\r\\n        console.log('â””â”€ PUT  /api/monitoring/alerts/:id/resolve\\\\n');\\r\\n\\r\\n        // 7. Show Logging Configuration\\r\\n        console.log('ğŸ“ 7. COMPREHENSIVE LOGGING');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        console.log('ğŸ“ Log Files Generated:');\\r\\n        console.log('â”œâ”€ ai-monitor.log              - AI analysis and anomaly detection');\\r\\n        console.log('â”œâ”€ anomalies.log               - Warning level and above');\\r\\n        console.log('â”œâ”€ alerts.log                  - Alert system activity');\\r\\n        console.log('â”œâ”€ monitoring-integration.log  - Main monitoring system');\\r\\n        console.log('â”œâ”€ monitoring-errors.log       - Error-level events only');\\r\\n        console.log('â””â”€ session-logs.log            - Scraping session details\\\\n');\\r\\n\\r\\n        console.log('ğŸ“Š Logging Features:');\\r\\n        console.log('â”œâ”€ âš¡ Multi-level logging (debug, info, warn, error)');\\r\\n        console.log('â”œâ”€ ğŸ“± JSON structured logs for parsing');\\r\\n        console.log('â”œâ”€ ğŸ”„ Log rotation (max 10MB files, 5 backups)');\\r\\n        console.log('â”œâ”€ ğŸ¯ Contextual metadata');\\r\\n        console.log('â”œâ”€ ğŸ“ˆ Performance metrics');\\r\\n        console.log('â””â”€ ğŸ” Stack trace capture\\\\n');\\r\\n\\r\\n        // 8. Demonstrate Monitoring Metrics\\r\\n        console.log('ğŸ“Š 8. INTELLIGENT MONITORING METRICS');\\r\\n        console.log('â”€'.repeat(50));\\r\\n        \\r\\n        console.log('ğŸ¤– AI-Powered Metrics:');\\r\\n        console.log('â”œâ”€ ğŸ¯ Scraper Performance Analysis');\\r\\n        console.log('â”‚  â”œâ”€ Success/failure rates');\\r\\n        console.log('â”‚  â”œâ”€ Performance trend analysis');\\r\\n        console.log('â”‚  â”œâ”€ Error pattern detection');\\r\\n        console.log('â”‚  â””â”€ Efficiency optimization suggestions');\\r\\n        console.log('â”œâ”€ ğŸ“Š Data Quality Monitoring');\\r\\n        console.log('â”‚  â”œâ”€ Validation score tracking');\\r\\n        console.log('â”‚  â”œâ”€ Data completeness analysis');\\r\\n        console.log('â”‚  â”œâ”€ Duplicate detection rates');\\r\\n        console.log('â”‚  â””â”€ Quality degradation alerts');\\r\\n        console.log('â”œâ”€ ğŸ”„ Sync System Health');\\r\\n        console.log('â”‚  â”œâ”€ Sync operation success rates');\\r\\n        console.log('â”‚  â”œâ”€ Conflict resolution tracking');\\r\\n        console.log('â”‚  â”œâ”€ Pending records monitoring');\\r\\n        console.log('â”‚  â””â”€ Sync delay detection');\\r\\n        console.log('â””â”€ ğŸ’¾ Database Performance');\\r\\n        console.log('   â”œâ”€ Table size growth tracking');\\r\\n        console.log('   â”œâ”€ Query performance analysis');\\r\\n        console.log('   â”œâ”€ Index efficiency monitoring');\\r\\n        console.log('   â””â”€ Storage optimization alerts\\\\n');\\r\\n\\r\\n        // Cleanup\\r\\n        console.log('ğŸ”Œ Shutting down monitoring system...');\\r\\n        await monitoring.shutdown();\\r\\n        console.log('âœ… Shutdown complete!\\\\n');\\r\\n\\r\\n    } catch (error) {\\r\\n        console.error('âŒ Demo failed:', error.message);\\r\\n        console.error('Stack trace:', error.stack);\\r\\n    }\\r\\n\\r\\n    console.log('ğŸ‰ ==========================================');\\r\\n    console.log('ğŸ“Š STEP 6 DEMONSTRATION COMPLETE!');\\r\\n    console.log('ğŸ‰ ==========================================\\\\n');\\r\\n\\r\\n    console.log('ğŸ’¡ AUTONOMOUS SYSTEM FEATURES:');\\r\\n    console.log('â”œâ”€ ğŸ¤– Self-monitoring AI system');\\r\\n    console.log('â”œâ”€ ğŸš¨ Automatic anomaly detection');\\r\\n    console.log('â”œâ”€ ğŸ“§ Intelligent alert notifications');\\r\\n    console.log('â”œâ”€ ğŸ“Š Real-time performance tracking');\\r\\n    console.log('â”œâ”€ ğŸ” Predictive analytics');\\r\\n    console.log('â”œâ”€ ğŸ“± RESTful monitoring API');\\r\\n    console.log('â”œâ”€ ğŸ“ Comprehensive audit logging');\\r\\n    console.log('â”œâ”€ ğŸ”„ Automatic system healing');\\r\\n    console.log('â”œâ”€ ğŸ“ˆ Trend analysis and forecasting');\\r\\n    console.log('â””â”€ ğŸ¯ Actionable recommendations\\\\n');\\r\\n\\r\\n    console.log('ğŸš€ PRODUCTION DEPLOYMENT READY!');\\r\\n    console.log('â”'.repeat(50));\\r\\n    console.log('The Orthodox Church Directory Builder is now');\\r\\n    console.log('a fully autonomous, intelligent system with:');\\r\\n    console.log('âœ… Complete data acquisition automation');\\r\\n    console.log('âœ… Intelligent validation and quality control');\\r\\n    console.log('âœ… Advanced sync and conflict resolution');\\r\\n    console.log('âœ… Interactive frontend visualization');\\r\\n    console.log('âœ… AI-powered monitoring and alerting');\\r\\n    console.log('âœ… Production-grade logging and analytics\\\\n');\\r\\n}\\r\\n\\r\\n// Run the demonstration\\r\\nif (require.main === module) {\\r\\n    demonstrateStep6().catch(console.error);\\r\\n}\\r\\n\\r\\nmodule.exports = { demonstrateStep6 };\\r\\n\"\n    },\n    \"complexity\": {\n      \"totalLines\": 260,\n      \"codeLines\": 203,\n      \"commentLines\": 17,\n      \"commentRatio\": 0.07727272727272727,\n      \"averageLineLength\": 50.904545454545456\n    },\n    \"lastAnalyzed\": \"2025-07-26T04:17:10.981Z\"\n  },\n  \"contentHash\": \"46f1d66de6cf6029d252237d436ee025f86ec8ba7ca2150e635f0e0c02e2221d\",\n  \"discoveredAt\": \"2025-07-26T04:17:10.981Z\"\n}"
    },
    "complexity": {
      "totalLines": 62,
      "codeLines": 62,
      "commentLines": 0,
      "commentRatio": 0,
      "averageLineLength": 220.7741935483871
    },
    "lastAnalyzed": "2025-07-28T07:19:56.790Z"
  },
  "contentHash": "7a4e355d607a8bce4178b5a85b9ec1e1b000c0b7e21bf641e503c9bd90946a84",
  "discoveredAt": "2025-07-28T07:19:56.790Z"
}