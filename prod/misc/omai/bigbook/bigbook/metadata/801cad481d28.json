{
  "id": "801cad481d28",
  "originalPath": "/var/www/orthodox-church-mgmt/orthodoxmetrics/prod/bigbook/metadata/881edb23df5a.json",
  "relativePath": "bigbook/metadata/881edb23df5a.json",
  "name": "881edb23df5a.json",
  "extension": ".json",
  "size": 2914,
  "modified": "2025-07-26T04:17:10.398Z",
  "created": "2025-07-26T04:17:10.398Z",
  "classification": {
    "type": "Database Scripts",
    "category": "Backend > Database",
    "confidence": 3
  },
  "metadata": {
    "fileStats": {
      "lines": 50,
      "characters": 2914,
      "words": 238
    },
    "classification": {
      "type": "Database Scripts",
      "category": "Backend > Database",
      "confidence": 3
    },
    "dependencies": [],
    "security": {
      "findings": [
        {
          "type": "sensitive_data",
          "pattern": "(?:password|pwd|pass)\\s*[:=]\\s*['\"]([^'\"]+)['\"]",
          "line": 37,
          "redacted": true
        }
      ],
      "hasSecurityIssues": true,
      "redactedContent": "{\n  \"id\": \"881edb23df5a\",\n  \"originalPath\": \"/var/www/orthodox-church-mgmt/orthodoxmetrics/prod/server/database/create_working_admin.sql\",\n  \"relativePath\": \"server/database/create_working_admin.sql\",\n  \"name\": \"create_working_admin.sql\",\n  \"extension\": \".sql\",\n  \"size\": 1402,\n  \"modified\": \"2025-07-05T23:34:05.000Z\",\n  \"created\": \"2025-07-09T00:48:35.106Z\",\n  \"classification\": {\n    \"type\": \"Database Scripts\",\n    \"category\": \"Backend > Database\",\n    \"confidence\": 5\n  },\n  \"metadata\": {\n    \"fileStats\": {\n      \"lines\": 65,\n      \"characters\": 1402,\n      \"words\": 141\n    },\n    \"classification\": {\n      \"type\": \"Database Scripts\",\n      \"category\": \"Backend > Database\",\n      \"confidence\": 5\n    },\n    \"dependencies\": [],\n    \"security\": {\n      \"findings\": [\n        {\n          \"type\": \"sensitive_data\",\n          \"pattern\": \"(?:password|pwd|pass)\\\\s*[:=]\\\\s*['\\\"]([^'\\\"]+)['\\\"]\",\n          \"line\": 29,\n          \"redacted\": true\n        }\n      ],\n      \"hasSecurityIssues\": true,\n      \"redactedContent\": \"-- Create a working admin user with correct password hash\\r\\n-- This will create an admin user with a properly hashed password\\r\\n\\r\\n-- First, let's create a user with a simple password hash for 'admin123'\\r\\n-- Generated using bcrypt with salt rounds 12\\r\\nINSERT IGNORE INTO users (\\r\\n    email, \\r\\n    first_name, \\r\\n    last_name, \\r\\n    password_hash, \\r\\n    role, \\r\\n    is_active,\\r\\n    landing_page,\\r\\n    created_at,\\r\\n    updated_at\\r\\n) VALUES (\\r\\n    'test@admin.com',\\r\\n    'Test',\\r\\n    'Admin',\\r\\n    '$2b$12$92IXUNpkjO0rOQ5byMi.Ye4oKoEa3Ro9llC/.og/at2.uheWG/igi',\\r\\n    'admin',\\r\\n    TRUE,\\r\\n    '/admin/users',\\r\\n    NOW(),\\r\\n    NOW()\\r\\n);\\r\\n\\r\\n-- Create another admin with a different hash\\r\\n-- This hash is for password: '[REDACTED]'\\r\\nINSERT IGNORE INTO users (\\r\\n    email, \\r\\n    first_name, \\r\\n    last_name, \\r\\n    password_hash, \\r\\n    role, \\r\\n    is_active,\\r\\n    landing_page,\\r\\n    created_at,\\r\\n    updated_at\\r\\n) VALUES (\\r\\n    'admin@password123.com',\\r\\n    'Admin',\\r\\n    'Password123',\\r\\n    '$2b$12$3K7J4oJ8jF8qRqNZpW9T8uO3l9xQ5qNrK2qJrG9qO9cJ8zP3xV6T2',\\r\\n    'admin',\\r\\n    TRUE,\\r\\n    '/admin/users',\\r\\n    NOW(),\\r\\n    NOW()\\r\\n);\\r\\n\\r\\n-- Show all admin users\\r\\nSELECT \\r\\n    id, \\r\\n    email, \\r\\n    first_name, \\r\\n    last_name, \\r\\n    role, \\r\\n    is_active, \\r\\n    created_at,\\r\\n    SUBSTRING(password_hash, 1, 20) as password_hash_preview\\r\\nFROM users \\r\\nWHERE role IN ('admin', 'super_admin') \\r\\nORDER BY created_at DESC;\\r\\n\"\n    },\n    \"complexity\": {\n      \"totalLines\": 65,\n      \"codeLines\": 61,\n      \"commentLines\": 0,\n      \"commentRatio\": 0,\n      \"averageLineLength\": 21.885245901639344\n    },\n    \"lastAnalyzed\": \"2025-07-26T04:17:10.401Z\"\n  },\n  \"contentHash\": \"ecfd8287929e8eee4c9819b0df2300a2a9c709f17fa53cf57b58b584ad58b0e8\",\n  \"discoveredAt\": \"2025-07-26T04:17:10.401Z\"\n}"
    },
    "complexity": {
      "totalLines": 50,
      "codeLines": 50,
      "commentLines": 0,
      "commentRatio": 0,
      "averageLineLength": 57.3
    },
    "lastAnalyzed": "2025-07-28T07:19:57.182Z"
  },
  "contentHash": "eefe3d91d27537bb5362eb7990b874dd4815290916cdd7a043c3ab98017c27fc",
  "discoveredAt": "2025-07-28T07:19:57.182Z"
}